#!/usr/bin/env bash
# Runs clojure.
# With no arguments, runs Clojure's REPL.

# resolve links - $0 may be a softlink
classpath="$CLASSPATH:$(brew --cellar)/clojure/1.2.1/clojure.jar"
breakchars="(){}[],^%$#@\"\";:''|\\"

if [[ $# -eq 0 ]]; then
    rlwrap --remember -c -b "$breakchars" -f "$HOME"/.clj_completions \
        java -cp "$classpath" clojure.main
else
    java -cp "$classpath" clojure.main "$@"
fi
